<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Arduino | Exercises Solutions</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Algoritmia">
    <link rel="preload" href="/exe_solutions/assets/css/0.styles.ada22a3c.css" as="style"><link rel="preload" href="/exe_solutions/assets/js/app.25c2a861.js" as="script"><link rel="preload" href="/exe_solutions/assets/js/2.5bf4f897.js" as="script"><link rel="preload" href="/exe_solutions/assets/js/6.c3dce9c2.js" as="script"><link rel="prefetch" href="/exe_solutions/assets/js/10.839ee732.js"><link rel="prefetch" href="/exe_solutions/assets/js/3.2e8ceb55.js"><link rel="prefetch" href="/exe_solutions/assets/js/4.884e633f.js"><link rel="prefetch" href="/exe_solutions/assets/js/5.b38535cf.js"><link rel="prefetch" href="/exe_solutions/assets/js/7.9d1a8dee.js"><link rel="prefetch" href="/exe_solutions/assets/js/8.2b2c0acf.js"><link rel="prefetch" href="/exe_solutions/assets/js/9.0e128a0b.js">
    <link rel="stylesheet" href="/exe_solutions/assets/css/0.styles.ada22a3c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/exe_solutions/" class="home-link router-link-active"><img src="/exe_solutions/img/coding.png" alt="Exercises Solutions" class="logo"> <span class="site-name can-hide">Exercises Solutions</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/exe_solutions/" class="nav-link">
  Inicio
</a></div><div class="nav-item"><a href="https://fromiti.github.io/posts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Posts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Fromiti/exc_solutions/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Repositorio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/exe_solutions/" class="nav-link">
  Inicio
</a></div><div class="nav-item"><a href="https://fromiti.github.io/posts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Posts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Fromiti/exc_solutions/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Repositorio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/exe_solutions/" aria-current="page" class="sidebar-link">Presentacion</a></li><li><a href="/exe_solutions/arduino/" aria-current="page" class="active sidebar-link">Arduino</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/exe_solutions/arduino/#strandbeest" class="sidebar-link">Strandbeest</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/exe_solutions/arduino/#descripcion-del-proyecto" class="sidebar-link">Descripción del proyecto</a></li><li class="sidebar-sub-header"><a href="/exe_solutions/arduino/#circuito-interno" class="sidebar-link">Circuito Interno</a></li><li class="sidebar-sub-header"><a href="/exe_solutions/arduino/#el-codigo" class="sidebar-link">El Código</a></li><li class="sidebar-sub-header"><a href="/exe_solutions/arduino/#resultados-finales" class="sidebar-link">Resultados finales</a></li></ul></li></ul></li><li><a href="/exe_solutions/c_sharp/" class="sidebar-link">C#</a></li><li><a href="/exe_solutions/c++/" class="sidebar-link">C++</a></li><li><a href="/exe_solutions/python/" class="sidebar-link">Python</a></li><li><a href="/exe_solutions/java/" class="sidebar-link">Java</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="arduino"><a href="#arduino" class="header-anchor">#</a> Arduino</h1> <h2 id="strandbeest"><a href="#strandbeest" class="header-anchor">#</a> Strandbeest</h2> <h3 id="descripcion-del-proyecto"><a href="#descripcion-del-proyecto" class="header-anchor">#</a> Descripción del proyecto</h3> <p>Proyecto realizado para la feria técnico profesional en 4to medio. Consiste de un Robot mecanizado a control remoto y con una cámara, su diseño está inspirado 100% en las figuras de Theo Jansen, los <strong><a href="https://www.strandbeest.com/" target="_blank" rel="noopener noreferrer">Strandbeest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong>, figuras que contienen un complejo mecanismo interno para permitir su movimiento solo con la fuerza del viento. En el caso del proyecto, se cambió la fuerza del viento por motores dc, los cuales a partir de una señal recibida desde un teléfono vía bluetooth, mueven al Strandbeest en las 4 direcciones.</p> <img src="/exe_solutions/img/strandbeest.jpg" alt="db table" width="300" style="margin-right:100px;"> <img src="/exe_solutions/img/strandbeest_er.jpg" alt="db table" width="300"> <h3 id="circuito-interno"><a href="#circuito-interno" class="header-anchor">#</a> Circuito Interno</h3> <ul><li>2 Motores DC</li> <li>Circuito integrado L293D o 'Puente H'</li> <li>Sensor ultrasónico HC-SR04</li> <li>Módulo Bluetooth</li> <li>Protoboard</li> <li>Cámara GoPro</li> <li>Cables de conexión</li> <li>Baterias de 9V</li></ul> <img src="/exe_solutions/img/circuit.png" alt="Circuito arduino" width="500" style="margin-right:100px;"> <p><em>Circuito realizado en</em> <em><a href="https://www.tinkercad.com/" target="_blank" rel="noopener noreferrer">Tinkercad<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></p> <h3 id="el-codigo"><a href="#el-codigo" class="header-anchor">#</a> El Código</h3> <p>Se usó <strong><a href="https://arduino.cl/" target="_blank" rel="noopener noreferrer">Arduino<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong> como plataforma de desarrollo y la placa Arduino UNO para controlar la lógica del dispositivo. Arduino está basado en el lenguaje de programación C++.</p> <h4 id="declaracion-de-variables-iniciales"><a href="#declaracion-de-variables-iniciales" class="header-anchor">#</a> Declaración de variables iniciales</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> izqA <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> 
<span class="token keyword">int</span> izqB <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> 
<span class="token keyword">int</span> derA <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> 
<span class="token keyword">int</span> derB <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> 
<span class="token keyword">int</span> vel <span class="token operator">=</span> <span class="token number">150</span><span class="token punctuation">;</span>            <span class="token comment">// Velocidad de los motores (0-255)</span>
<span class="token keyword">char</span> estado<span class="token punctuation">;</span>

<span class="token keyword">int</span> pecho <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token comment">// define el pin 2 como (pecho) para el Ultrasonido</span>
<span class="token keyword">int</span> ptrig <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>            <span class="token comment">// define el pin 3 como (ptrig) para el Ultrasonido</span>
<span class="token keyword">int</span> duracion<span class="token punctuation">,</span> distancia<span class="token punctuation">;</span>  <span class="token comment">// para Calcular distacia</span>

<span class="token keyword">unsigned</span> <span class="token keyword">long</span> tiempo_transcurrido1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> tiempo_transcurrido2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
</code></pre></div><h4 id="metodo-setup-define-el-estado-inicial-del-dispositivo"><a href="#metodo-setup-define-el-estado-inicial-del-dispositivo" class="header-anchor">#</a> Método setup, define el estado inicial del dispositivo.</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>pecho<span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// define el pin 2 como entrada (pecho) </span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>ptrig<span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// define el pin 3 como salida  (ptrig) </span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="se-reciben-los-datos-via-bluetooth"><a href="#se-reciben-los-datos-via-bluetooth" class="header-anchor">#</a> Se reciben los datos via Bluetooth</h4> <p>Se leen los datos recibidos en la serial, estos datos son enviados vía Bluetooth desde la una aplicación, estos se reciben en formato caractér y cuentan con estados 6 estados posibles: avanzar, parar, izquerda, derecha, reversa y piloto automático.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">// lee el bluetooth y almacena en estado</span>
    estado <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">La función loop</p> <p>Contiene el código principal del programa. Lo que ingreses en esta función se repetirá en búcle hasta que se apague la placa Arduino!</p></div> <h4 id="reaccionando-a-los-estados-recibidos"><a href="#reaccionando-a-los-estados-recibidos" class="header-anchor">#</a> Reaccionando a los estados recibidos.</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">switch</span><span class="token punctuation">(</span>estado<span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">case</span> <span class="token string">'a'</span><span class="token operator">:</span>	<span class="token comment">// avanzar</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>	
    	<span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'i'</span><span class="token operator">:</span>	<span class="token comment">// izquerda</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token keyword">break</span><span class="token punctuation">;</span>
   	<span class="token keyword">case</span> <span class="token string">'p'</span><span class="token operator">:</span>	<span class="token comment">// parar</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'d'</span><span class="token operator">:</span>	<span class="token comment">// derecha</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'r'</span><span class="token operator">:</span>	<span class="token comment">//reversa</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token keyword">break</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="piloto-automatico"><a href="#piloto-automatico" class="header-anchor">#</a> Piloto automático.</h4> <p>Si el strandbeest no detecta un elemento a menos de 6 cm, entonces avanza sin parar, de lo contrario, retrocede y se mueve hacia la derecha durante 2 segundos concretando un giro de 90 grados para nuevamente seguir avanzando.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">case</span> <span class="token string">'x'</span><span class="token operator">:</span>	<span class="token comment">// piloto automatico</span>
    	<span class="token function">digitalWrite</span><span class="token punctuation">(</span>ptrig<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// genera el pulso de trigger por 10us</span>
     	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     	<span class="token function">digitalWrite</span><span class="token punctuation">(</span>ptrig<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>    
     	duracion <span class="token operator">=</span> <span class="token function">pulseIn</span><span class="token punctuation">(</span>pecho<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// Lee el tiempo del Echo</span>
     	distancia <span class="token operator">=</span> <span class="token punctuation">(</span>duracion<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">29</span><span class="token punctuation">;</span>            <span class="token comment">// calcula la distancia en centimetros</span>
     	Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>distancia<span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token keyword">if</span><span class="token punctuation">(</span>distancia <span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
          <span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
          <span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>  
          <span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>	
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>           <span class="token comment">// empieza a transcurrir tiempo</span>
          <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
            <span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
            <span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> vel<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>          
        <span class="token punctuation">}</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>	<span class="token comment">// estará detenido al inicio del programa</span>
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>derA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    	<span class="token function">analogWrite</span><span class="token punctuation">(</span>izqA<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="resultados-finales"><a href="#resultados-finales" class="header-anchor">#</a> Resultados finales</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/exe_solutions/" class="prev router-link-active">
        Presentacion
      </a></span> <span class="next"><a href="/exe_solutions/c_sharp/">
        C#
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/exe_solutions/assets/js/app.25c2a861.js" defer></script><script src="/exe_solutions/assets/js/2.5bf4f897.js" defer></script><script src="/exe_solutions/assets/js/6.c3dce9c2.js" defer></script>
  </body>
</html>
